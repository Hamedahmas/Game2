<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ­ Ø¨Ø§Ø²ÛŒ Ø¬Ø§Ø³ÙˆØ³</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ğŸ­ Ø¨Ø§Ø²ÛŒ Ø¬Ø§Ø³ÙˆØ³</h1>

    <div id="mainMenu">
      <button onclick="showHostPanel()">ğŸ® ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¯Ø§ÙˆØ±</button>
      <button onclick="showJoinPanel()">ğŸ‘¤ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ø²ÛŒÚ©Ù†</button>
    </div>

    <!-- Ù¾Ù†Ù„ Ø¯Ø§ÙˆØ± -->
    <div id="hostPanel" style="display: none;">
      <h2>ğŸ‘‘ Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯</h2>
      <label>ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†:</label>
      <select id="playerCount">
        <option value="3">3 Ù†ÙØ±</option>
        <option value="4">4 Ù†ÙØ±</option>
        <option value="5">5 Ù†ÙØ±</option>
        <option value="6">6 Ù†ÙØ±</option>
        <option value="7">7 Ù†ÙØ±</option>
        <option value="8">8 Ù†ÙØ±</option>
        <option value="9">9 Ù†ÙØ±</option>
        <option value="10">10 Ù†ÙØ±</option>
      </select>
      <button onclick="startHost()">ğŸ² Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§Ø²ÛŒ</button>
      <button onclick="goBack()">ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª</button>
    </div>

    <!-- Ù¾Ù†Ù„ Ø¨Ø§Ø²ÛŒÚ©Ù† -->
    <div id="joinPanel" style="display: none;">
      <h2>ğŸ® ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ</h2>
      <label>Ú©Ø¯ Ø¨Ø§Ø²ÛŒ:</label>
      <input id="joinCode" type="text" placeholder="Ù…Ø«Ø§Ù„: FX7P3" maxlength="5" />
      <label>Ù†Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù† (Ø§Ù†ØªØ®Ø§Ø¨ Ø§ÛŒÙ…ÙˆØ¬ÛŒ Ø­ÛŒÙˆØ§Ù†):</label>
      <select id="emojiSelect">
        <option>ğŸ¶</option>
        <option>ğŸ±</option>
        <option>ğŸ¦Š</option>
        <option>ğŸ¼</option>
        <option>ğŸµ</option>
        <option>ğŸ·</option>
        <option>ğŸ¯</option>
        <option>ğŸ¸</option>
        <option>ğŸ»</option>
        <option>ğŸ¨</option>
      </select>
      <button onclick="joinAsPlayer()">â–¶ï¸ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ</button>
      <button onclick="goBack()">ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª</button>
    </div>
  </div>

  <script>
    function showHostPanel() {
      document.getElementById("mainMenu").style.display = "none";
      document.getElementById("hostPanel").style.display = "block";
    }

    function showJoinPanel() {
      document.getElementById("mainMenu").style.display = "none";
      document.getElementById("joinPanel").style.display = "block";
    }

    function goBack() {
      document.getElementById("mainMenu").style.display = "block";
      document.getElementById("hostPanel").style.display = "none";
      document.getElementById("joinPanel").style.display = "none";
    }

    function startHost() {
      const count = parseInt(document.getElementById("playerCount").value);
      const gameCode = generateCode();
      window.location.href = `host.html?count=${count}&code=${gameCode}`;
    }

    function joinAsPlayer() {
      const code = document.getElementById("joinCode").value.trim().toUpperCase();
      const emoji = document.getElementById("emojiSelect").value;
      if (code.length !== 5) {
        alert("Ú©Ø¯ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ÛŒØ¯ Ûµ Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.");
        return;
      }
      window.location.href = `join.html?code=${code}&emoji=${encodeURIComponent(emoji)}`;
    }

    function generateCode() {
      const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
      let result = "";
      for (let i = 0; i < 5; i++) {
        result += chars[Math.floor(Math.random() * chars.length)];
      }
      return result;
    }
  </script>
</body>
</html>
